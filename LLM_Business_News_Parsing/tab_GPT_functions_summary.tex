\begin{table}[H]
\centering
\begin{threeparttable}
\caption{Function calling schema}
%{\footnotesize
%\renewcommand{\arraystretch}{1}
\begin{tabular}{lL{4.1cm}L{6.8cm}L{5cm}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\hline \Xhline{2\arrayrulewidth}
%\rowcolor{gray!10}
\multicolumn{2}{l}{\textbf{Function}} & \textbf{Prompt} & \textbf{Options} \tabularnewline
\hline \Xhline{2\arrayrulewidth} 
\multicolumn{2}{l}{1. \texttt{firms}} & \qquote{List all the firms affected by the events narrated in the article} & \texttt{array} \tabularnewline
\hline
 & 1.1. \texttt{firm} & \qquote{Iterate over each \textnormal{\texttt{firm}} in \textnormal{\texttt{firms}}} & \texttt{string}
 \tabularnewline
\cline{2-4} \cline{3-4} \cline{4-4} 
 & 1.2. \texttt{ticker} & \qquote{State the stock market ticker of \textnormal{\texttt{firm}} } & \texttt{string}
 \tabularnewline
\cline{2-4} \cline{3-4} \cline{4-4} 
 & 1.3. \texttt{shock\_type} & \qquote{What type of shock does this article imply on \textnormal{\texttt{firm}} ?} & \{demand, supply, financial, \newline technology, policy\}\tabularnewline
\cline{2-4} \cline{3-4} \cline{4-4} 
 & 1.4. \texttt{shock\_magnitude} & \qquote{How much impact is this shock expected to have on \textnormal{\texttt{firm}}?} & \{minor, major\}\tabularnewline
\cline{2-4} \cline{3-4} \cline{4-4} 
 & 1.5. \texttt{shock\_direction} & \qquote{In what direction is this shock expected to impact \textnormal{\texttt{firm}}?} & \{positive, negative\}\tabularnewline 
%\cline{2-4} \cline{3-4} \cline{4-4} 
\hline \Xhline{2\arrayrulewidth}
\end{tabular}
%}
\begin{tablenotes}
\footnotesize
\mx
\item \textit{Note: 
For clarity of exposition, the actual prompts passed to LlaMA are avoided here but can be found in the code. 
%The ``Options'' column imposes the asnwer format that the LLM must follow. For example, in \texttt{firms}, the option \texttt{array} indicates that the answer must be an enumeration of firms, while the option \texttt{string} in the subfunctions \texttt{firm} and \texttt{ticker} indicates that the answer must be a single name. Finally, the \texttt{shock\_} subfunctions ask the LLM to choose from a predefined set of options.
}
\end{tablenotes}
\label{tab:function_calling_structure}
\end{threeparttable}
\end{table}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\begin{table}[H]
%\centering
%\begin{threeparttable}
%\caption{Function calling schema}
%{\small
%\begin{tabular}{l||L{4.1cm}|L{6.8cm}|L{5cm}|}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\hline 
%\multicolumn{2}{|l|}{Function} & Description & Options \tabularnewline
%\hline 
%\hline 
%%\multicolumn{2}{|l|}{1. \texttt{publication\_time}} & Date and time of publication & ``''\tabularnewline
%%\hline 
%%\multicolumn{2}{|l|}{2. \texttt{scope}} & Scope or focus of the news article's impact. & \{Firm, Industry, Economy\}\tabularnewline
%%\hline 
%%\multicolumn{2}{|l|}{3. \texttt{news\_category}} & Type of information provided in the article & \{New, Historical, \newline Analysis/Comments\}\tabularnewline
%%\hline 
%\multicolumn{2}{|l|}{1. \texttt{firms}} & List all the firms affected by the events narrated in the article & \texttt{array} \tabularnewline
%\hline
% & 1.1. \texttt{firm} & Iterate over each firm in \texttt{firms} & \texttt{string}
% \tabularnewline
%\cline{2-4} \cline{3-4} \cline{4-4} 
% & 1.2. \texttt{ticker} & State the stock market ticker of this firm & \texttt{string}
% \tabularnewline
%\cline{2-4} \cline{3-4} \cline{4-4} 
% & 1.3. \texttt{shock\_type} & What type of shock does the article imply on this firm? & \{demand, supply, financial, \newline technology, policy\}\tabularnewline
%\cline{2-4} \cline{3-4} \cline{4-4} 
%% & 4.4. \texttt{shock\_duration} & Expected duration of the shock on this firm & \{Short term, Mid term, Long term\}\tabularnewline
%\cline{2-4} \cline{3-4} \cline{4-4} 
% & 4.5. \texttt{shock\_magnitude} & How much imapct is the shock expected to have on this firm? & \{minor, major\}\tabularnewline
%\cline{2-4} \cline{3-4} \cline{4-4} 
% & 4.6. \texttt{shock\_direction} & In what direction is the shock expected to impact this firm? & \{positive, negative\}\tabularnewline 
%\cline{2-4} \cline{3-4} \cline{4-4} 
%% & 4.6. \texttt{trading\_signal} & Trading decision on this firm's stock & \{Long, Not trade, Short\}\tabularnewline
%%\cline{2-4} \cline{3-4} \cline{4-4} 
%% & 4.7. \texttt{market\_timing} & Time of incorporation of the shock on this firm's stock price (\textit{today=publication date}). & \{Before last week, Last week, \newline Yesterday, Today, Tomorrow, \newline Next week, After next week\}\tabularnewline
%%\cline{2-4} \cline{3-4} \cline{4-4} 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\end{tabular}
%}
%\begin{tablenotes}
%\footnotesize
%\mx
%%\item \textit{Note}: A justification of the category choice is asked for all the parameters with an asterisk . 
%\item \textit{Note: For clarity of exposition, the actual prompts passed to Llama are avoided here but can be found in the Appendix. The ``Options'' column imposes the asnwer format that the LLM must follow. For example, in \texttt{firms}, the option \texttt{array} indicates that the answer must be an enumeration of firms}, while the option \texttt{string} in the subfunctions \texttt{firm} and \texttt{ticker} indicates that the answer must be a single name. Finally, the shock subfunctions ask the LLM to choose an option from a predefined set of options.
%\end{tablenotes}
%\end{threeparttable}
%\end{table}